(this["webpackJsonpcra-museum"]=this["webpackJsonpcra-museum"]||[]).push([[0],{11:function(e,t,n){e.exports={history:"history_history__2j5XN",list:"history_list__3MchR",item:"history_item__Ze8qN",buttons:"history_buttons__1a51b",expand:"history_expand__3ZRd4",button:"history_button__1RJlw"}},13:function(e,t,n){e.exports={image:"painting_image__1A9ow",title:"painting_title__12gU_",details:"painting_details__3rrUN",description:"painting_description__2Klpj",techniques:"painting_techniques__2QwxC",painter:"painting_painter__2jxH_"}},18:function(e,t,n){e.exports={button:"utils_button__1hGb2"}},20:function(e,t,n){e.exports={form:"search_form__YGqBG",input:"search_input__22hB9",searchBar:"search_searchBar__3Y5h_"}},27:function(e,t,n){e.exports={card:"card_card__3gDK8",imageLink:"card_imageLink__3G29n",details:"card_details__2iqlc"}},29:function(e,t,n){e.exports={nav:"nav_nav__3vGeL",title:"nav_title__32vTX",links:"nav_links__1vbds"}},33:function(e,t,n){e.exports={loader:"loader_loader__2d6FG",spinner:"loader_spinner__3ExDN",spin:"loader_spin__2tE4C"}},34:function(e,t,n){e.exports={pagination:"pagination_pagination__1H_DL",page:"pagination_page__3thLn"}},46:function(e,t,n){e.exports={footer:"footer_footer__C3aRI"}},47:function(e,t,n){e.exports={homepage:"homepage_homepage__1N2NP"}},48:function(e,t,n){e.exports={paintings:"gallery_paintings__3OLs4"}},51:function(e,t,n){e.exports=n(81)},56:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(21),c=n.n(r),l=(n(56),n(6)),o=n(2),s=n(29),u=n.n(s),p=n(14),m=n(20),g=n.n(m),d=n(18),_=n.n(d),f=n(10),h=n(16),E=n.n(h),b=n(24),v=n(25),y=n.n(v),N=function(e){return e.split(" ").join("+")},j=function(e){return e.length>51?"".concat(e.slice(0,50),"..."):e},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rembrandt van rijn";return function(){var t=Object(b.a)(E.a.mark((function t(n){var a,i,r,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=N(e),i="https://www.rijksmuseum.nl/api/en/collection?key=".concat("nxwxKjwi","&q=").concat(a,"&s=relevance&ps=150&imgonly=true&toppieces=true"),console.log(i),t.next=6,y.a.get(i);case 6:r=t.sent,c=r.data.artObjects,console.log(c),n({type:"GET_PAINTINGS",payload:c}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(t){t({type:"ADD_PAINTER",payload:e})}},P=Object(f.b)(null,{fetchPaintings:O,addPainter:x})((function(e){var t=e.fetchPaintings,n=e.addPainter,r=Object(a.useState)(""),c=Object(p.a)(r,2),l=c[0],s=c[1],u=Object(o.f)();return i.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(l),n(l),s(""),"/gallery/1"!==u.pathname&&u.push("/gallery/1")}(e)},className:g.a.form},i.a.createElement("input",{type:"text",placeholder:"Artist / Painting",value:l,onChange:function(e){return s(e.target.value)},className:"".concat(g.a.searchBar," ").concat(g.a.input)}),i.a.createElement("input",{type:"submit",value:"Search",className:"".concat(_.a.button," ").concat(g.a.input)}))})),w=function(){return i.a.createElement("nav",{className:u.a.nav},i.a.createElement("div",{className:u.a.title},i.a.createElement(l.b,{to:"/"},"The Museum")),i.a.createElement(P,null))},k=n(11),L=n.n(k),I=Object(f.b)((function(e){return{history:e.history}}),{addPainter:x,deleteHistory:function(){return function(e){e({type:"DELETE_HISTORY"})}},fetchPaintings:O})((function(e){var t=e.addPainter,n=e.fetchPaintings,r=e.deleteHistory,c=e.history,l=c.history,s=c.isLoading,u=Object(o.f)(),m=Object(a.useState)(!1),g=Object(p.a)(m,2),d=g[0],f=g[1],h=function(e){n(e),t(e),u.push("/gallery/1")},E=s?"":d?l.map((function(e){return i.a.createElement("li",{className:L.a.item,onClick:function(){return h(e)}},j(e))})):l.slice(0,5).map((function(e){return i.a.createElement("li",{className:L.a.item,onClick:function(){return h(e)}},j(e))}));return i.a.createElement("div",{className:L.a.history},i.a.createElement("ul",{className:L.a.list},E),l.length>0&&i.a.createElement("div",{className:L.a.buttons},l.length>5&&i.a.createElement("button",{className:"".concat(_.a.button," ").concat(L.a.expand," ").concat(L.a.button),onClick:function(){return f(!d)}},d?"Less":"More"),l.length>0&&i.a.createElement("button",{className:"".concat(_.a.button," ").concat(L.a.button),onClick:function(){return r()}},"Delete History")))})),T=function(){return i.a.createElement("header",null,i.a.createElement(w,null),i.a.createElement(I,null))},A=n(46),G=n.n(A),C=function(){return i.a.createElement("footer",{className:G.a.footer},i.a.createElement("p",null,"Copyright \xa9",(new Date).getFullYear()," ",i.a.createElement("a",{href:"http://www.daveregg.com",target:"_blank",rel:"noopener noreferrer"},"Dave Regg")))},D=n(47),S=n.n(D),R=function(){return i.a.createElement("div",{className:S.a.homepage},i.a.createElement("p",null,"Search for an artist in the searchbox above!"))},q=n(13),M=n.n(q),F=function(){return{type:"CLEAR_PAINTING"}},H=n(33),B=n.n(H),Y=function(){return i.a.createElement("div",{className:B.a.loader},i.a.createElement("div",{className:B.a.spinner}))},K=Object(f.b)((function(e){return{painting:e.painting}}),{fetchPaintings:O,fetchPainting:function(e){return function(){var t=Object(b.a)(E.a.mark((function t(n){var a,i;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.a.get("https://www.rijksmuseum.nl/api/en/collection/".concat(e,"?key=").concat("nxwxKjwi"));case 3:a=t.sent,i=a.data.artObject,n(F),n({type:"GET_PAINTING",payload:i}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},addPainter:x})((function(e){var t=e.fetchPaintings,n=e.fetchPainting,r=e.addPainter,c=e.painting,s=c.painting,u=c.isLoading,p=Object(o.g)().id;Object(a.useEffect)((function(){n(p)}),[n,p]),s&&r(s.title),console.log(s);return i.a.createElement("div",{className:M.a.painting},u?i.a.createElement(Y,null):i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{href:s.webImage.url,target:"_blank",rel:"noopener noreferrer"},i.a.createElement("img",{className:M.a.image,src:s.webImage.url,alt:s.title})),i.a.createElement("h1",{className:M.a.title},s.title),i.a.createElement("div",{className:M.a.details},i.a.createElement("h2",{className:M.a.painter},i.a.createElement(l.b,{onClick:function(){return r(s.principalOrFirstMaker),void t(s.principalOrFirstMaker)},to:"/gallery/1"},s.principalOrFirstMaker)),i.a.createElement("p",null,"Created in ",s.dating.presentingDate,s.productionPlaces.length>0&&" ".concat("near ",s.productionPlaces[0]))),i.a.createElement("div",{className:M.a.description},i.a.createElement("p",null,s.label.description)),s.techniques&&i.a.createElement("div",{className:M.a.techniques},s.techniques.map((function(e){return i.a.createElement("span",null,e)})))))})),J=n(48),U=n.n(J),X=n(27),Z=n.n(X),Q=function(e){var t=e.id,n=e.desc,a=e.title,r=e.image,c=e.painter;return"anonymous"===c&&(c="Anonymous"),i.a.createElement("div",{className:Z.a.card},i.a.createElement(l.b,{to:"/painting/".concat(t),className:Z.a.imageLink},i.a.createElement("img",{src:r.url,alt:n})),i.a.createElement("div",{className:Z.a.details},i.a.createElement(l.b,{to:"/painting/".concat(t)},i.a.createElement("h1",null,j(a))),i.a.createElement("h2",null,c)))},W=n(34),z=n.n(W),V=function(e){for(var t=e.paintingsPerPage,n=e.totalPaintings,a=e.paginate,r=[],c=Math.ceil(n/t),o=1;o<=c;o++)r.push(o);return i.a.createElement("ul",{className:z.a.pagination},r.map((function(e){return i.a.createElement("li",{key:e,className:z.a.page},i.a.createElement(l.b,{to:"/gallery/".concat(e),onClick:function(){return a(e)}},e))})))},$=Object(f.b)((function(e){return{paintings:e.paintings}}),null)((function(e){var t=e.paintings,n=t.paintings,r=t.isLoading,c=Object(a.useState)(1),l=Object(p.a)(c,2),o=l[0],s=l[1],u=Object(a.useState)(12),m=Object(p.a)(u,1)[0],g=o*m,d=g-m,_=n.slice(d,g),f=function(e){s(e)};return i.a.createElement("div",null,r&&i.a.createElement(Y,null),!r&&0===n.length&&i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},"Sorry, can't find anything for that search."),!r&&i.a.createElement(V,{paintingsPerPage:m,totalPaintings:n.length,paginate:f}),i.a.createElement("div",{className:U.a.paintings},!r&&_.map((function(e){var t=e.objectNumber,n=e.id,a=e.longTitle,r=e.title,c=e.webImage,l=e.principalOrFirstMaker;return i.a.createElement(Q,{key:n,desc:a,id:t,title:r,image:c,painter:l})}))),!r&&i.a.createElement(V,{paintingsPerPage:m,totalPaintings:n.length,paginate:f}))}));var ee=function(){return i.a.createElement(l.a,null,i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"content"},i.a.createElement(T,null),i.a.createElement("div",{className:"main"},i.a.createElement(o.c,null,i.a.createElement(o.a,{exact:!0,path:"/",component:R}),i.a.createElement(o.a,{exact:!0,path:"/gallery/:page",component:$}),i.a.createElement(o.a,{exact:!0,path:"/painting/:id",component:K})))),i.a.createElement(C,null)))},te=n(49),ne=n(12),ae=n(26),ie=n(3),re={paintings:[],isLoading:!0},ce={paintings:null,isLoading:!0},le={history:[],isLoading:!0},oe=Object(ne.combineReducers)({paintings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"GET_PAINTINGS":return Object(ie.a)(Object(ie.a)({},e),{},{paintings:Object(ae.a)(a),isLoading:!1});default:return e}},painting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"GET_PAINTING":return Object(ie.a)(Object(ie.a)({},e),{},{painting:Object(ie.a)({},a),isLoading:!1});case"CLEAR_PAINTING":return Object(ie.a)(Object(ie.a)({},e),{},{painting:null,isLoading:!1});default:return e}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;switch(a){case"ADD_PAINTER":return-1===e.history.indexOf(n)?Object(ie.a)(Object(ie.a)({},e),{},{history:[n].concat(Object(ae.a)(e.history)),isLoading:!1}):Object(ie.a)(Object(ie.a)({},e),{},{isLoading:!1});case"DELETE_HISTORY":return Object(ie.a)(Object(ie.a)({},e),{},{history:[],isLoading:!1});default:return e}}}),se=[n(50).a],ue=Object(ne.createStore)(oe,{},Object(te.composeWithDevTools)(ne.applyMiddleware.apply(void 0,se)));n(80);c.a.render(i.a.createElement(f.a,{store:ue},i.a.createElement(ee,null)),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.fefc3761.chunk.js.map